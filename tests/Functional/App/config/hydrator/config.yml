imports:
    - { resource: ../config.yml }

overblog_graphql:
    definitions:
        config_validation: false
        class_namespace: "Overblog\\GraphQLBundle\\Hydrator\\__DEFINITIONS__"
        schema:
            query: Mutation
            mutation: Mutation
        mappings:
            types:
                - type: yaml
                  dir: "%kernel.project_dir%/config/hydrator/mapping"

services:
    Overblog\GraphQLBundle\Tests\Functional\App\Mutation\HydratorMutation:
        arguments: ['@Doctrine\ORM\EntityManager']
        tags:
            - { name: "overblog_graphql.mutation", alias: "update_user", method: "updateUser" }
            - { name: "overblog_graphql.mutation", alias: "create_user_and_posts", method: "createUserAndPosts" }

    Doctrine\ORM\EntityManager:
        factory: ['Overblog\GraphQLBundle\Tests\Functional\App\Service\EntityManagerServiceFactory', 'createEntityManager']